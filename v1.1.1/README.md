# WRPRC schemas and examples based on version 1.1.1 of the ETSI TS 119 475 standard

This version directory contains schemas of the WRPRC header area and the WRPRC payload, and examples of header areas and payloads. They are based on version 1.1.1 of the [ETSI TS 119 475](https://portal.etsi.org/webapp/WorkProgram/Report_WorkItem.asp?WKI_ID=69585) standard.

The 1.1.1 version of the standard includes a WRPRC payload example in its annex C that contains JSON syntax errors and data structures that do not comply with the specifications in the standard. Thus the example in annex C does not validate against the WRPRC payload schema ([wrprc-payload-json-schema.json](wrprc-payload-json-schema.json)). The WRPRC payload example in this version directory ([wrprc-payload-example.json](wrprc-payload-example.json)) does validate against the schema.

Some properties/fields in the WRPRC payload schema do not make sense or are in conflict with the [ARF](https://github.com/eu-digital-identity-wallet/eudi-doc-architecture-and-reference-framework) or other specifications. For example, the `sub` field is defined as an object which is in conflict with [RFC 7519 section 4.1.2. "sub" (Subject) Claim](https://www.rfc-editor.org/rfc/rfc7519#section-4.1.2) that says the value of the `sub` field is “a case-sensitive string containing a StringOrURI” (not an object). I have given feedback to ETSI about the version 1.1.1 so hopefully future versions of the standard has such issues fixed. Instead of being aspirational ideal schemas, the schemas in this directory are simply expressions of the specifications in the standard version (possibly including my misinterpretations of them). All feedback and corrections are welcome. Those can be given in the form of issues in this repository or contacting me directly via eg. e-mail.
